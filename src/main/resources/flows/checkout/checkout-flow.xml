<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/webflow
http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">

	

	<var name="order" class="com.bootshop.model.CustomerOrder" /> 

	<action-state id="AddToCart">
		<evaluate result="order.cart" 
			expression="cartServiceImpl.validate(requestParameters.cartid)" />
		<transition to="customerto" />
	</action-state>

	<view-state id="customerto" view="customerto">


		<transition on="submit" to="addCustomer" />
		<transition on="cancel" to="cancel" />
	</view-state>

	<!-- Cart -->
	<!--<subflow-state id="customer" subflow="customer"> <output name="customer" 
		value="order.customer" /> <transition on="customerReady" to="order" /> </subflow-state> -->

	<view-state id="order">
		<transition on="orderCreated" to="payment" />
	</view-state>

	<!-- <action-state id="addCartToOrder"> <evaluate expression="cartServiceImpl.validate(requestParameters.cartid)" 
		result="order.cart" result-type="com.bootshop.model.Cart" /> <transition 
		to="invalidCartWarning" on-exception="java.io.IOException" /> <transition 
		to="collectCustomerInfo" /> </action-state> <view-state id="collectCustomerInfo" 
		view="collectCustomerInfo" model="order"> <transition on="customerInfoCollected" 
		to="collectShippingDetail" /> </view-state> -->



</flow>
